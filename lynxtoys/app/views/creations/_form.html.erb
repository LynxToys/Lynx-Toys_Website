<%= form_for @creation, :url => creations_path, :html => { :class => 'form-horizontal', multipart: true } do |f| %>

  <%#= f.text_field :name, :required => true, :class => 'text_field', :value => "Name (Required)", :onfocus => "this.value = '';", :onblur => "if (this.value == '') {this.value = 'Name (Required)';}" %>
	<%= f.text_field :name, :required => true, :class => 'text_field',:value => "Name (Required)"%>
  <%= f.text_field :creator_name, :class => 'text_field', :value => "Creator Name", :onfocus => "this.value = '';", :onblur => "if (this.value == '') {this.value = 'Creator Name';}" %>

  <%= f.text_field :description, :class => 'text_field', :value => "Description", :onfocus => "this.value = '';", :onblur => "if (this.value == '') {this.value = 'Description';}" %>

  <div class="control-group">
    <%= f.label :pictures, :class => 'control-label', :style => 'font-size: 200%; color: white' %>
    <div class="controls">
      <!-- The magic is coming ...look at my eyes....shazammmm -->
      <!-- Use HTML5 multiple attribute to enable multiple selection
           and pass back to controller all files as an array, ready 
           for paperclip!!
           file_field_tag, since images is not a gallery attribute
       -->
      <%= file_field_tag "images[]", type: :file, id: 'ImagesToUpload', :onchange => "check_file('ImagesToUpload')", multiple: true, :required => true, style: 'font-size: 200%; background-color: white' %>
	  <%= f.label :cover, :class => 'control-label', :style => 'font-size: 200%; color: white' %>
	  <%= file_field_tag "cover", type: :file, id: 'CoverToUpload', :onchange => "check_file('CoverToUpload')", :required => true, style: 'font-size: 200%; background-color: white' %>
    </div>
  </div>

  <div class="form-actions">
    <%= f.submit "Submit Creation", :class => 'btn btn-primary' %>
    <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
                creations_path, :class => 'btn btn-mini' %>
  </div>
<% end %>

<script>
function check_file(id){
                selection=document.getElementById(id);
				//window.alert(selection)
        for (var i=0; i<selection.files.length; i++) {
    var ext = selection.files[i].name.substr(selection.files[i].name.lastIndexOf('.')+1).toLowerCase();
    if(ext!== "jpg" && ext!== "jpeg" && ext!== "png" && ext!== "gif") {
        alert('only support jpg/jpeg/png/gif format');
		document.getElementById(id).value='';
        return false;
    }
    }
	}
</script>
